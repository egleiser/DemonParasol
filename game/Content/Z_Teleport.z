/*//////////////////////////////////////////////////////////////////////////////////////////////////////////
//SCRIPT-Z_Teleport.z
//AUTHOR-Travis Moore
//COURSE-GAM205
//COPYRIGHT-© 2014 DigiPen, All Rights Reserved.
//////////////////////////////////////////////////////////////////////////////////////////////////////////*/

class Z_Teleport:ZilchComponent
{
    [Property]
    var TeleportToLocation:Real3 = Real3();
    
    /*//////////////////////////////////////////////////////////////////////////////////////////////////////
    //FUNCTION-Initialize
    //EXPLANATION-Initialize variables/functions so that we can use them
    //////////////////////////////////////////////////////////////////////////////////////////////////////*/
    function Initialize(init:CogInitializer):Void
    {
        Zero.Connect(this.Space, Events.LogicUpdate, this.OnLogicUpdate);
    }
    
    /*//////////////////////////////////////////////////////////////////////////////////////////////////////
    //FUNCTION-OnLogicUpdate
    //EXPLANATION-listen for home key to teleport the player back to a home location
    //////////////////////////////////////////////////////////////////////////////////////////////////////*/
    function OnLogicUpdate(event:UpdateEvent)
    {
        if(Zero.Keyboard.KeyIsPressed(Keys.Home))
        {
            
            this.Owner.Transform.Translation = this.TeleportToLocation;
            this.Space.FindObjectByName("TongueMount").TongueManager.InitializeTongue();
            this.Space.FindObjectByName("TongueMount").TongueManager.ExtendTongue(10);
        }
    }
}